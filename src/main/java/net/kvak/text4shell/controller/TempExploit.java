package net.kvak.text4shell.controller;

import org.apache.commons.text.StringSubstitutor;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.*;

@Controller
public class TempExploit {
    @GetMapping("/exploit2")
    public String sploit(@RequestParam(defaultValue = "") String interpolate,
                         Model model) {
        StringBuilder sb = new StringBuilder();
        sb.append(interpolate);
        StringSubstitutor interpolator = StringSubstitutor.createInterpolator();
        String exploit = interpolator.replace(sb);
        System.out.println(sb);
        System.out.println(exploit);
        model.addAttribute("exploit", sb);
        return "result";
    }
}